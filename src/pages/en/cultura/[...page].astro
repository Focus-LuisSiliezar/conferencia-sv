---
import BaseLayout from "../../layouts/BaseLayout.astro";
import HorizontalCard from "../../components/HorizontalCard.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths({ paginate }) {
  const posts = await getCollection("blog");
  return paginate(posts, { pageSize: 10 });
}

const { page } = Astro.props;

const datas = {
  data: [
    {
      title: "El baile de la peluda",
      description:
        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
      heroImage: "/post_img.webp",
      badge: "EKOS",
    },
    {
      title: "Embajadas",
      description:
        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
      pubDate: "Sep 11 2022",
      heroImage: "/post_img.webp",
    },
    {
      title: "La Lul√∫ y la Lulita",
      description:
        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",
      pubDate: "2001",
      badge: "Honduras",
      heroImage: "/post_img.webp",
    },
  ],
};

const baileDeLaPeluda = datas.data[0];
const embajadas = datas.data[1];
const laLulu = datas.data[2];
---

<BaseLayout title="Cultura" sideBarActiveItemID="cultura">
  <div class="mb-5">
    <div class="text-3xl w-full font-bold">Cultura Rotaractiana</div>
  </div>

  {
    page?.data?.length === 0 ? (
      <div class="bg-base-200 border-l-4 border-secondary w-full p-4 min-w-full">
        <p class="font-bold">Sorry!</p>
        <p>There are no blog posts to show at the moment. Check back later!</p>
      </div>
    ) : (
      <ul>
        <HorizontalCard
          title={baileDeLaPeluda.title}
          img={baileDeLaPeluda.heroImage}
          desc={baileDeLaPeluda.description}
          target="_self"
          badge={baileDeLaPeluda.badge}
        />
        <div class="divider my-0" />
        <HorizontalCard
          title={embajadas.title}
          img={embajadas.heroImage}
          desc={embajadas.description}
          target="_self"
          badge={embajadas.badge}
        />
        <div class="divider my-0" />
        <HorizontalCard
          title={laLulu.title}
          img={laLulu.heroImage}
          desc={laLulu.description}
          target="_self"
          badge={laLulu.badge}
        />
        <div class="divider my-0" />
        <HorizontalCard
          title={datas.data[0].title}
          img={datas.data[0].heroImage}
          desc={datas.data[0].description}
          target="_self"
          badge={datas.data[0].badge}
        />
        <div class="divider my-0" />
      </ul>
    )
  }
</BaseLayout>
